.block-image-row {
    margin-block: clamp(1.813rem, calc(-0.375rem + 5vw), 4.313rem); /* min: 29px, max: 69px */;

    .image-row-wrapper {
        display: grid;
        gap: clamp(1.813rem, calc(-0.375rem + 5vw), 4.313rem); /* min: 29px, max: 69px */

        .acf-innerblocks-container,
        .block-editor-block-list__layout {  // Added editor class
            display: grid;
            gap: inherit;
        }
    }

    // Layout variations based on block style
    &.is-style-single .acf-innerblocks-container,
    &.is-style-single .block-editor-block-list__layout {
        grid-template-columns: 1fr;
    }

    &.is-style-two_left .acf-innerblocks-container,
    &.is-style-two_left .block-editor-block-list__layout {
        grid-template-columns: 2fr 1fr;
    }

    &.is-style-two_right .acf-innerblocks-container,
    &.is-style-two_right .block-editor-block-list__layout {
        grid-template-columns: 1fr 2fr;
    }

    &.is-style-two_equal .acf-innerblocks-container,
    &.is-style-two_equal .block-editor-block-list__layout {
        grid-template-columns: 1fr 1fr;
    }

    &.is-style-three .acf-innerblocks-container,
    &.is-style-three .block-editor-block-list__layout {
        grid-template-columns: repeat(3, 1fr);
    }

    // Override core image block styles
    .wp-block-image {
        margin: 0;
        height: 100%;

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            aspect-ratio: 16/9;
        }
    }
}

// Editor specific styles
.wp-block[data-type="acf/image-row"] {
    min-height: 200px;
    position: relative;
    
    &:empty {
        background-color: #f0f0f0;
        border: 2px dashed #999;
        border-radius: 4px;

        &::before {
            content: "Plaats hier je afbeeldingen";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #666;
            font-size: 0.9rem;
        }
    }

    .block-editor-inner-blocks {
        .wp-block {
            margin: 0;
            position: relative;
            
            // Modify resize container styles
            .components-resizable-box__container {
                pointer-events: none;
                position: relative;
                width: 100% !important;
                max-width: none !important;
                
                img {
                    width: 100%;
                    aspect-ratio: 16/9;
                    object-fit: cover;
                }
            }

            .components-resizable-box__handle {
                display: none;
            }
        }
    }

    // Hide all resize handles
    .components-resizable-box__handle,
    .components-resizable-box__side-handle,
    .components-resizable-box__container.has-show-handle .components-resizable-box__handle {
        display: none !important;
    }

    // Hide drop zone UI when not needed
    .components-drop-zone:not(:only-child) {
        display: none;
    }
}

@media (max-width: 768px) {
    .block-image-row {
        .image-row-wrapper .acf-innerblocks-container,
        .image-row-wrapper .block-editor-block-list__layout {
            grid-template-columns: 1fr !important;
        }
    }
}